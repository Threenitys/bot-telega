# Телеграм-бот воронки взаимодействия с пользователем

## Описание проекта

Проект представляет собой телеграм-бота, разработанного для взаимодействия с пользователями в соответствии с определенной воронкой общения. Бот обеспечивает автоматическую регистрацию пользователей, отправляет им сообщения в соответствии с заданной логикой воронки и обрабатывает фотографии.

## Основные функции бота

1. **Регистрация пользователя:**
   - Воронка начинается после первого сообщения от клиента.
   - Если пользователь не найден в базе данных, он регистрируется.

2. **Автоматические сообщения:**
   - **Через 10 минут:**
     - Отправляется сообщение: "Добрый день!"

   - **Через 90 минут:**
     - Отправляется сообщение: "Подготовила для вас материал."

   - **Сразу после:**
     - Отправляется любое фото.

   - **Через 2 часа, если не найден триггер "Хорошего дня":**
     - Отправляется сообщение: "Скоро вернусь с новым материалом!"

3. **Триггер "Хорошего дня":**
   - Бот проверяет историю сообщений пользователя.
   - Если не обнаружен триггер "Хорошего дня" в истории, отправляется соответствующее сообщение через 2 часа.

4. **Обработка фото:**
   - Бот может обрабатывать и отправлять фото в рамках воронки.

## Технологии и библиотеки

- Python
- Pyrogram (для работы с Telegram API)
- SQLAlchemy (для взаимодействия с базой данных)
- Другие необходимые библиотеки (указать в файле `requirements.txt`)

## Установка и настройка

1. Склонируйте репозиторий: `git clone <URL репозитория>`
2. Установите зависимости: `pip install -r requirements.txt`
3. Создайте файл конфигурации `config.py` и укажите необходимые параметры, такие как токен Telegram и параметры подключения к базе данных PostgreSQL.
4. Запустите бота: `python main.py`

## Лицензия

Этот проект распространяется под лицензией [MIT](LICENSE).

*Примечание: Данное описание предполагает, что проект использует базу данных PostgreSQL, однако, в случае использования другой БД, информацию стоит соответствующим образом изменить.*
